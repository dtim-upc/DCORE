%
% Preamble.tex
%

\usepackage[utf8]{inputenc} % Input encoding

\usepackage[english]{babel} % use special characters and also translates some elements within the document.

\usepackage[numbers]{natbib} % Bibliography

\usepackage[nottoc]{tocbibind} % Adds bibliography, figures to ToC

% Hyperlinks \url{url} or \href{url}{name}
\usepackage[colorlinks = true,
            linkcolor = blue,
            urlcolor  = blue,
            citecolor = blue,
            anchorcolor = blue]{hyperref}

\usepackage{bm, stmaryrd} % math symbols

% Defines a new environment to write your or claim - proof
\newenvironment{claim}[1]{\par\noindent\underline{Claim:}\space#1}{}
\newenvironment{claimproof}[1]{\par\noindent\underline{Proof:}\space#1}{\hfill $\blacksquare$}

\usepackage{graphicx}
\graphicspath{{./figures/}}

% \begin{figure}[h]
%   \centering
%   \includegraphics[scale=0.5]{cat}  % [width=\textwidth, height=4cm],
%   \caption{Example of a cat}
%   \label{fig:cat}
% \end{figure}

\usepackage{tikz}
\usetikzlibrary{external, automata, arrows.meta, positioning, calc}
\tikzexternalize[shell escape=-shell-escape,prefix=tikz/cache/]

\newcommand{\inputtikz}[1]{%
  \tikzsetnextfilename{#1}%
  \input{tikz/#1.tex}
}

\usepackage{booktabs} % better default table

% \begin{table}
% \centering
% \caption{This is my table, there are many like it, but this one is mine.}
% \label{tbl:mytable}
% \begin{tabular}{llr}
% \toprule
% \multicolumn{2}{c}{Item} \\
% \cmidrule(r){1-2}
% Animal & Description & Price (\$) \\
% \midrule
% Gnat  & per gram & 13.65 \\
%       & each     &  0.01 \\
% Gnu   & stuffed  & 92.50 \\
% Emu   & stuffed  & 33.33 \\
% Armadillo & frozen & 8.99 \\
% \bottomrule
% \end{tabular}
% \end{table}

\usepackage{minted}
\usemintedstyle{default}
\newminted{scala}{frame=lines, framerule=2pt}
% \mint{html}|<h2>Something <b>here</b></h2>|
% \inputminted{octave}{BitXorMatrix.m}

%\begin{listing}[H]
  %\begin{minted}[xleftmargin=20pt,linenos,bgcolor=codegray]{haskell}
  %\end{minted}
  %\caption{Example of a listing.}
  %\label{lst:example} % You can reference it by \ref{lst:example}
%\end{listing}


\usepackage[vlined,ruled]{algorithm2e} % pseudo-code
% \newcommand\commentfont[1]{\footnotesize\ttfamily\colorbox{gray}{\textcolor{white}{#1}}}
\newcommand\commentfont[1]{\small\ttfamily\textcolor{darkgray}{#1}}
\SetCommentSty{commentfont}


\usepackage{xcolor} % \definecolor, \color{codegray}
\definecolor{codegray}{rgb}{0.9, 0.9, 0.9}
% \color{codegray} ... ...
% \textcolor{red}{easily}

\usepackage{enumitem} % \begin{enumerate}[label=(\alph*)]

\usepackage[titletoc]{appendix}

%%%% Glossaries & Acronyms

\usepackage{glossaries}

\glsdisablehyper % remove hyperlinks to glossaries
\setacronymstyle{long-short} %short-long

\newacronym{tecs}{tECS}{\emph{timed Enumerable Compact Set}}
\newacronym{core}{CORE}{Complex Event Recognition Engine}
\newacronym{mmde}{\textsc{MMDE}}{\emph{Maximal Match Disjoint Enumeration}}
\newacronym{dte}{\textsc{DTE}}{\emph{Distributed tECS Enumeration}}
\newacronym{cea}{CEA}{Complex Event Automata}
\newacronym{rmi}{RMI}{Remote Method Invocation}
\newacronym{dag}{DAG}{Directed Acyclic Graph}
\newacronym{cer}{CER}{Complex Event Recognition}
\newacronym{cep}{CEP}{Complex Event Processing}
\newacronym{cel}{CEL}{\emph{Complex Event Logic}}
\newacronym{socel}{SO-CEL}{Set-Oriented Complex Event Logic}

%%%%%% Subfigure

\usepackage{subcaption} % \subfigure
\usepackage{pgffor} % \foreach
\usepackage{fp}

\def\makeTECS#1#2{%
  \foreach \index in {0, ..., #2} {%
    \FPset\x{#2}
    \FPeval\y{1.0/(x + 1.0) - 0.05}
    \begin{subfigure}[b]{\y\textwidth}
      \centering
      \inputtikz{#1_\index}
      \caption*{S[\index]}
    \end{subfigure}
  }}

%%%% New commands

\newcommand{\comment}[1]{} % \comment{this will not appear in the document}
\newcommand{\cea}{CEA $\mathcal{A} = (Q, \Delta, q_{0}, F)$}
\newcommand{\enumCEA}{${\llbracket \mathcal{A} \rrbracket}^{\epsilon}_{j}(S)$}
\newcommand{\enumNode}{${\llbracket \text{n} \rrbracket}^{\epsilon}_{\mathcal{E}}(j)$}
\newcommand{\tecs}{${\mathcal{E}}$}
\newcommand{\InDoubleBrackets}[1]{\llbracket #1 \rrbracket}

\newcommand{\code}[1]{\texttt{#1}} % \code{foo.hs} environment
